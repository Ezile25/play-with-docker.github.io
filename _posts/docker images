[node1] (local) root@192.168.0.18 ~
$ docker container run -ti ubuntu bash
Unable to find image 'ubuntu:latest' locally
latest: Pulling from library/ubuntu
6e3729cf69e0: Pull complete
Digest: sha256:27cb6e6ccef575a4698b66f5de06c7ecd61589132d5a91d098f7f3f9285415a9
Status: Downloaded newer image for ubuntu:latest
root@2d3f753f437a:/# apt-get update
Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
Get:3 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages[659 kB]
Get:4 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [720 kB]
Get:5 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages[4732 B]
Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [786 kB]
Get:7 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]
Get:8 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]
Get:9 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
Get:10 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
Get:11 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [990 kB]
Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [708 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [8978 B]
Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1035 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [3520 B]
Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [7286 B]
Fetched 25.2 MB in 3s (8380 kB/s)
Reading package lists... Done
root@2d3f753f437a:/# apt-get install -y figlet
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  figlet
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 133 kB of archives.
After this operation, 752 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy/universe amd64 figlet amd64 2.2.5-3[133 kB]
Fetched 133 kB in 0s (282 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package figlet.
(Reading database ... 4395 files and directories currently installed.)
Preparing to unpack .../figlet_2.2.5-3_amd64.deb ...
Unpacking figlet (2.2.5-3) ...
Setting up figlet (2.2.5-3) ...
update-alternatives: using /usr/bin/figlet-figlet to provide /usr/bin/figlet (figlet) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man6/figlet.6.gz because associated file /usr/share/man/man6/figlet-figlet.6.gz (of link group figlet) doesn't exist
root@2d3f753f437a:/# exit
exit
[node1] (local) root@192.168.0.18 ~
$ docker container ls -a
CONTAINER ID   IMAGE     COMMAND   CREATED              STATUS   PORTS     NAMES
2d3f753f437a   ubuntu    "bash"    About a minute ago   Exited (0) 43 seconds ago             suspicious_thompson
[node1] (local) root@192.168.0.18 ~
$ docker container commit CONTAINER_ID
Error response from daemon: No such container: CONTAINER_ID
[node1] (local) root@192.168.0.18 ~
$ docker container commit CONTAINER ID
invalid reference format: repository name must be lowercase
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago   77.8MB
[node1] (local) root@192.168.0.18 ~
$ ###############################################################
#                          WARNING!!!!                        #
# This is a sandbox environment. Using personal credentials   #
# is HIGHLY! discouraged. Any consequences of doing so are    #
# completely the user's responsibilites.                      #
#                                                             #
# The PWD team.                                               #
###############################################################
[node1] (local) root@192.168.0.18 ~
$ docker container run -ti ubuntu bash
Unable to find image 'ubuntu:latest' locally
latest: Pulling from library/ubuntu
6e3729cf69e0: Pull complete
Digest: sha256:27cb6e6ccef575a4698b66f5de06c7ecd61589132d5a91d098f7f3f9285415a9
Status: Downloaded newer image for ubuntu:latest
root@2d3f753f437a:/# apt-get update
Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
Get:3 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages[659 kB]
Get:4 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [720 kB]
Get:5 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages[4732 B]
Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [786 kB]
Get:7 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]
Get:8 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]
Get:9 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
Get:10 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
Get:11 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [990 kB]
Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [708 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [8978 B]
Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1035 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [3520 B]
Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [7286 B]
Fetched 25.2 MB in 3s (8380 kB/s)
Reading package lists... Done
root@2d3f753f437a:/# apt-get install -y figlet
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  figlet
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 133 kB of archives.
After this operation, 752 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy/universe amd64 figlet amd64 2.2.5-3[133 kB]
Fetched 133 kB in 0s (282 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package figlet.
(Reading database ... 4395 files and directories currently installed.)
Preparing to unpack .../figlet_2.2.5-3_amd64.deb ...
Unpacking figlet (2.2.5-3) ...
Setting up figlet (2.2.5-3) ...
update-alternatives: using /usr/bin/figlet-figlet to provide /usr/bin/figlet (figlet) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man6/figlet.6.gz because associated file /usr/share/man/man6/figlet-figlet.6.gz (of link group figlet) doesn't exist
root@2d3f753f437a:/# exit
exit
[node1] (local) root@192.168.0.18 ~
$ docker container ls -a
CONTAINER ID   IMAGE     COMMAND   CREATED              STATUS   PORTS     NAMES
2d3f753f437a   ubuntu    "bash"    About a minute ago   Exited (0) 43 seconds ago             suspicious_thompson
[node1] (local) root@192.168.0.18 ~
$ docker container commit CONTAINER_ID
Error response from daemon: No such container: CONTAINER_ID
[node1] (local) root@192.168.0.18 ~
$ docker container commit CONTAINER ID
invalid reference format: repository name must be lowercase
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago   77.8MB
[node1] (local) root@192.168.0.18 ~
$
bash: $: command not found
[node1] (local) root@192.168.0.18 ~
$ docker image tag <IMAGE_ID> ourfiglet
bash: IMAGE_ID: No such file or directory
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago   77.8MB
[node1] (local) root@192.168.0.18 ~
$ docker container run ourfiglet figlet hello
Unable to find image 'ourfiglet:latest' locally
docker: Error response from daemon: pull access denied for ourfiglet, repositorydoes not exist or may require 'docker login': denied: requested access to the resource is denied.
See 'docker run --help'.
[node1] (local) root@192.168.0.18 ~
$ exit
logout
###############################################################
#                          WARNING!!!!                        #
# This is a sandbox environment. Using personal credentials   #
# is HIGHLY! discouraged. Any consequences of doing so are    #
# completely the user's responsibilites.                      #
#                                                             #
# The PWD team.                                               #
###############################################################
[node1] (local) root@192.168.0.18 ~
$ var os = require("os");
bash: syntax error near unexpected token `('
[node1] (local) root@192.168.0.18 ~
$ var hostname = os.hostname(); console.log("hello from " + hostname);
bash: syntax error near unexpected token `('
[node1] (local) root@192.168.0.18 ~
$ vi Dockerfile
[node1] (local) root@192.168.0.18 ~
$ ls
Dockerfile
[node1] (local) root@192.168.0.18 ~
$ docker image build -t hello:v0.1 .
Sending build context to Docker daemon  13.82kB
Step 1/5 : FROM alpine
latest: Pulling from library/alpine
8921db27df28: Pull complete
Digest: sha256:f271e74b17ced29b915d351685fd4644785c6d1559dd1f2d4189a5e851ef753a
Status: Downloaded newer image for alpine:latest
 ---> 042a816809aa
Step 2/5 : RUN apk update && apk add nodejs
 ---> Running in 4e9624e73a82
fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
v3.17.1-47-ga69530033f [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]
v3.17.1-50-g2ce428f192 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]
OK: 17813 distinct packages available
(1/9) Installing ca-certificates (20220614-r4)
(2/9) Installing brotli-libs (1.0.9-r9)
(3/9) Installing c-ares (1.18.1-r1)
(4/9) Installing libgcc (12.2.1_git20220924-r4)
(5/9) Installing icu-data-en (72.1-r1)
Executing icu-data-en-72.1-r1.post-install
*
* If you need ICU with non-English locales and legacy charset support, install
* package icu-data-full.
*
(6/9) Installing libstdc++ (12.2.1_git20220924-r4)
(7/9) Installing icu-libs (72.1-r1)
(8/9) Installing nghttp2-libs (1.51.0-r0)
(9/9) Installing nodejs (18.12.1-r0)
Executing busybox-1.35.0-r29.trigger
Executing ca-certificates-20220614-r4.trigger
OK: 54 MiB in 24 packages
Removing intermediate container 4e9624e73a82
 ---> cd3dbc40c004
Step 3/5 : COPY . /app
 ---> c585e53de3b6
Step 4/5 : WORKDIR /app
 ---> Running in 0da34f085eed
Removing intermediate container 0da34f085eed
 ---> a13b25db2abe
Step 5/5 : CMD ["node" , "index.js"]
 ---> Running in 74651043fdbb
Removing intermediate container 74651043fdbb
 ---> 4c984afa92a2
Successfully built 4c984afa92a2
Successfully tagged hello:v0.1
[node1] (local) root@192.168.0.18 ~
$ docker container run hello:v0.1
node:internal/modules/cjs/loader:998
  throw err;
  ^

Error: Cannot find module '/app/index.js'
    at Module._resolveFilename (node:internal/modules/cjs/loader:995:15)
    at Module._load (node:internal/modules/cjs/loader:841:27)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:23:47 {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}

Node.js v18.12.1
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED         SIZE
hello        v0.1      4c984afa92a2   3 minutes ago   58.1MB
alpine       latest    042a816809aa   6 days ago      7.05MB
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago     77.8MB
[node1] (local) root@192.168.0.18 ~
$ docker image history <image ID>
bash: syntax error near unexpected token `newline'
[node1] (local) root@192.168.0.18 ~
$ echo "console.log(\"this is v0.2\");" >> index.js
[node1] (local) root@192.168.0.18 ~
$ docker image build -t hello:v0.2 .
Sending build context to Docker daemon  14.85kB
Step 1/5 : FROM alpine
 ---> 042a816809aa
Step 2/5 : RUN apk update && apk add nodejs
 ---> Using cache
 ---> cd3dbc40c004
Step 3/5 : COPY . /app
 ---> fed109bf098d
Step 4/5 : WORKDIR /app
 ---> Running in 3f47f1ca488e
Removing intermediate container 3f47f1ca488e
 ---> 611a2de296e0
Step 5/5 : CMD ["node" , "index.js"]
 ---> Running in d1d66991d4a7
Removing intermediate container d1d66991d4a7
 ---> c89a728754e6
Successfully built c89a728754e6
Successfully tagged hello:v0.2
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED         SIZE
hello        v0.2      c89a728754e6   2 minutes ago   58.1MB
hello        v0.1      4c984afa92a2   8 minutes ago   58.1MB
alpine       latest    042a816809aa   6 days ago      7.05MB
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago     77.8MB
[node1] (local) root@192.168.0.18 ~
$ docker image inspect --format "{{ json .RootFS.Layers }}" alpine
["sha256:8e012198eea15b2554b07014081c85fec4967a1b9cc4b65bd9a4bce3ae1c0c88"]
[node1] (local) root@192.168.0.18 ~
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED          SIZE
hello        v0.2      c89a728754e6   4 minutes ago    58.1MB
hello        v0.1      4c984afa92a2   10 minutes ago   58.1MB
alpine       latest    042a816809aa   6 days ago       7.05MB
ubuntu       latest    6b7dfa7e8fdb   5 weeks ago      77.8MB
[node1] (local) root@192.168.0.18 ~
$ docker image inspect --format "{{json .Root5.Layers }}" <image ID>
bash: syntax error near unexpected token `newline'
